extends ../loggedLayout

block content
    br
    br
    h1 Przebieg auta
    p
    form(name="auto", action="/wniosek_auto_przebieg", method="POST")
        .container
          .form-group
            label
              h3
                | Ewidencja przebiegu pojazdu
                br
            input.form-control(type='hidden', name='Id', value='#{Id}')
            input.form-control(type='hidden', name='Tablica', id='Tablica')
          table.table-bordered(border='1 solid', style='border-style: none; border-spacing: 0px; margin-top: 30px; width:100%')
            tbody
              tr
                th.tg-031e(style='padding-left:5px; padding-right:5px')
                  | Data wyjazdu
                  br
                th.tg-031e(style='padding-left:5px; padding-right:5px')
                  | Opis trasy wyjazdu
                  br
                  | (skąd - dokąd)
                  br
                th.tg-031e(style='padding-left:5px; padding-right:5px')
                  | Cel wyjazdu
                  br
                th.tg-031e(style='padding-left:5px; padding-right:5px')
                  | Liczba faktycznie przejechanych kilometrow
                  br
                th.tg-031e(style='padding-left:5px; padding-right:5px')
                  | Stawka za 1 kilometr przebiegu
                  br
                th.tg-031e(style='padding-left:5px; padding-right:5px')
                  | Wartość
                  br
                th.tg-031e(style='padding-left:5px; padding-right:5px') Uwagi
              tr(style='height:5px; text-align: center;')
                td 1
                td 2
                td 3
                td 4
                td 5
                td 6
                td 7
              tr(style='height:40px')
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
              tr(style='height:40px')
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
              tr(style='height:40px')
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
              tr(style='height:40px')
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
              tr(style='height:40px')
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
              tr(style='height:40px')
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
                td.tg-031e
          .form-group
          button.btn.btn-default(type='submit') Wyślij przebieg pojazdu!
      script. 
        $("table tbody tr td").bind("click", dataClick); 
        function dataClick(e) 
        { 
            if (e.currentTarget.innerHTML != "") return; 
            if(e.currentTarget.contentEditable != null)
            { 
                $(e.currentTarget).attr("contentEditable",true); 
            }
             else
            { 
                $(e.currentTarget).append("<input type='text'>"); 
            } 
        }
        function dataSave(e) 
        { 
            $('#Tablica').val($('table').prop('outerHTML'));
        }
        $(function() {
            var previous = $("table").html();
            $check = function() {
                console.log(1);
                if ($("table").html() != previous) {
                    myOwnFunction();
                }
                previous = $("table").html();        
            }
            setInterval(function() { $check(); }, 1000);
        });
        function myOwnFunction() {
            $('#Tablica').val($('table').prop('outerHTML'));
        }
